(()=>{var e={};e.id=658,e.ids=[658],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},61157:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(11431),n=s(77499),a=s(79436),l=s.n(a),i=s(42644),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["(navbar)",{children:["(sidebar)",{children:["afleveringer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,21079)),"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(sidebar)/afleveringer/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,63334)),"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(sidebar)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,34348)),"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35054,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,89113))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,98181)),"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35054,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,89113))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(sidebar)/afleveringer/page.tsx"],u="/(navbar)/(sidebar)/afleveringer/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(navbar)/(sidebar)/afleveringer/page",pathname:"/afleveringer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19733:(e,t,s)=>{Promise.resolve().then(s.bind(s,49994)),Promise.resolve().then(s.bind(s,33694))},49994:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AssignmentsWrapper:()=>AssignmentsWrapper});var r=s(51516),n=s(77848),a=s(73544),l=s(37798),i=s(28784);let o=(0,i.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var c=s(38481),d=s.n(c);function getDate(e){let t=e.split("-"),s=t[0].split("/"),r=Number(s[0]),n=Number(s[1])-1,a=t[1].split(" "),l=Number(a[0]),i=a[1].split(":"),o=Number(i[0]),c=Number(i[1]);return new Date(l,n,r,o,c)}function getColors(e){let t=getDate(e.dueTo),s=t.getTime()-new Date().getTime(),r=s/864e5,n="bg-gray-400",a="text-muted-foreground";return"Afleveret"===e.status?n="bg-green-400":"Mangler"===e.status?n="bg-red-400":s<0?n="bg-red-400":r<=14&&r>11?(n="bg-yellow-400",a="text-yellow-400"):r<=11&&r>7?(n="bg-yellow-500",a="text-yellow-500"):r<=7&&r>5?(n="bg-yellow-600",a="text-yellow-600"):r<=5&&r>3?(n="bg-orange-500",a="text-orange-500"):r<=3&&r>2?(n="bg-orange-600",a="text-orange-600"):r<=2&&r>1?(n="bg-orange-700",a="text-orange-700"):r<=1?(n="bg-orange-800",a="text-orange-800"):"Venter"===e.status&&(n="bg-gray-400",a="text-muted-foreground"),{sideColor:n,dateColor:a}}function getFormattedDate(e){let t=getDate(e.dueTo),s=t.getTime()-new Date().getTime(),r=s/864e5,n=Math.floor(s%864e5/36e5)-1,a=Math.floor(s%36e5/6e4),l=Math.floor(s%6e4/1e3),i=1!==r?"dage":"dag",o=1!==n?"timer":"time",c=1!==a?"minutter":"minut",d=1!==l?"sekunder":"sekund";return r>14||r<0?new Intl.DateTimeFormat("da-dk",{dateStyle:"long",timeStyle:"short"}).format(t):r>1?0===n?[Math.floor(r),i].join(" "):[Math.floor(r),i,"og",n,o].join(" "):n>1?0===a?[n,o].join(" "):[n,o,"og",a,c].join(" "):a>1?0===l?[a,c].join(" "):[a,c,"og",l,d].join(" "):[l,d].join(" ")}var u=s(78077);function TooltipHoverContent({assignment:e}){let t=isNaN(Number(e.studentTime.split(",")[0]))?0:Number(e.studentTime.split(",")[0]);return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex",children:[r.jsx("p",{className:"w-16",children:"Frav\xe6r:"}),r.jsx("p",{children:e.absence})]}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx("p",{className:"w-16",children:"Afventer:"}),r.jsx("p",{children:e.awaiter})]}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx("p",{className:"w-16",children:"Elevtimer:"}),r.jsx("p",{children:t})]})]})}function Assignment({assignment:e,addWeek:t}){let{sideColor:s,dateColor:n}=getColors(e),i=getFormattedDate(e),c="w-[calc(100%-24px)] absolute right-0 md:right-4 md:w-[calc(100%-32px)]";return e.href.split("elevid=")[1].split("&")[0],r.jsx(u.Z,{html:r.jsx(TooltipHoverContent,{assignment:e}),children:(0,r.jsxs)(d(),{href:{pathname:`/afleveringer/${e.id}`,query:{title:e.title,class:e.class,subject:e.subject,dueTo:e.dueTo}},className:"group relative flex h-[88px] w-full items-center gap-x-4 whitespace-nowrap rounded-lg bg-background py-1 pl-1 transition-colors hover:bg-muted focus:bg-muted focus:outline-0",children:[t&&r.jsx(a.Separator,{className:(0,l.cn)(c,"top-0")}),r.jsx("div",{className:(0,l.cn)("h-2/3 w-2 rounded-md",s)}),(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsxs)("p",{className:"text-sm text-muted-foreground opacity-50",children:[[e.subject,", "].join(""),e.class]}),r.jsx("p",{className:(0,l.cn)(e.title.length>30?"text-sm":e.title.length>40?"text-xs":"text-base","overflow-hidden text-ellipsis whitespace-nowrap py-0.5 font-medium"),children:e.title}),r.jsx("p",{className:(0,l.cn)("text-sm opacity-75",n),children:i})]}),r.jsx(o,{className:"ml-auto mr-8 hidden text-muted-foreground opacity-75 transition-transform group-hover:translate-x-2 group-hover:scale-110 group-focus:translate-x-2 group-focus:scale-110 md:block"}),r.jsx(a.Separator,{className:(0,l.cn)(c,"bottom-0")})]},e.title)})}var m=s(4926);function AssignmentsWrapper({strAssignments:e}){let t=JSON.parse(e),[s,a]=(0,n.useState)("pending"),[l,i]=(0,n.useState)("");(0,n.useEffect)(()=>{m.B.listen("assignmentsFilter",e=>{a(e.detail.filter),i(e.detail.search)})},[]);let o="-1",c=!1;return"submitted"===s?t=t.filter(e=>"Afleveret"===e.status):"pending"===s?t=t.filter(e=>"Venter"===e.status):"missing"===s&&(t=t.filter(e=>"Mangler"===e.status)),0===t.length&&(c=!0),""!==l&&(t=t.filter(e=>{let t=l.toLowerCase(),s=e.title.toLowerCase().includes(t),r=e.subject.toLowerCase().includes(t),n=e.class.toLowerCase().includes(t),a=[e.subject,e.class].join(", ").toLowerCase().includes(t);return s||r||n||a})),(0,r.jsxs)(r.Fragment,{children:[0===t.length&&(0,r.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-y-1 pt-16 lg:items-start lg:gap-y-2 lg:pt-8",children:[r.jsx("p",{className:"text-lg font-semibold text-muted-foreground",children:"Ingen Opgaver"}),r.jsx("p",{className:"text-sm text-muted-foreground opacity-50",children:""===l||c?"Der er ingen opgaver at vise. Godt klaret!":"Der var intet resultat"})]}),t.map((e,t)=>{let s=o!==e.week;return s&&(o=e.week),(0,r.jsxs)(n.Fragment,{children:[s&&(0,r.jsxs)("p",{className:"w-full pb-2 pt-4 text-xl font-bold",children:["Uge ",e.week]}),r.jsx(Assignment,{addWeek:s,assignment:e})]},e.id)})]})}},33694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Buttons:()=>Buttons});var r=s(51516),n=s(37798),a=s(4926),l=s(77848);function FilterButtonsSkeleton(){let e="transition-colors flex flex-col gap-y-1 items-center duration-300 text-muted-foreground",t="text-xs h-6 w-6 p-1 rounded-full bg-zinc-500 bg-opacity-5";return r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"relative grid w-full min-w-[256px] max-w-sm animate-pulse grid-cols-4 text-center text-sm",children:[(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Alle"})]}),(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Afleveret"})]}),(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Venter"})]}),(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Mangler"})]}),r.jsx("div",{className:"absolute -bottom-2 h-0.5 w-1/4 translate-x-[200%] rounded-md bg-muted-foreground transition-all duration-300"})]})})}function Buttons({strAssignments:e}){let t=JSON.parse(e);(0,l.useEffect)(()=>{a.B.listen("assignmentsFilter",e=>{i(e.detail.filter)})},[]);let[s,i]=(0,l.useState)("pending");if(null===t)return r.jsx(FilterButtonsSkeleton,{});let o={all:"bg-blue-500 translate-x-0",submitted:"bg-green-500 translate-x-full",pending:"bg-yellow-500 translate-x-[200%]",missing:"bg-red-500 translate-x-[300%]"},c=t.length,d=t.filter(e=>"Afleveret"===e.status).length,u=t.filter(e=>"Venter"===e.status).length,m=t.filter(e=>"Mangler"===e.status).length,p="transition-colors flex flex-col gap-y-1 items-center duration-300",x="text-xs h-6 w-6 p-1 rounded-full bg-zinc-500 bg-opacity-5";function handleClick(e){a.B.dispatch("assignmentsFilter",{filter:e,search:""})}return(0,r.jsxs)("div",{className:"relative grid w-full min-w-[256px] max-w-sm grid-cols-4 text-center text-sm",children:[(0,r.jsxs)("button",{onClick:()=>handleClick("all"),className:(0,n.cn)(p,"all"===s?"text-blue-500":"text-muted-foreground"),children:[r.jsx("p",{className:(0,n.cn)(x,"all"===s&&o[s].split(" ")[0]),children:c}),r.jsx("p",{children:"Alle"})]}),(0,r.jsxs)("button",{onClick:()=>handleClick("submitted"),className:(0,n.cn)(p,"submitted"===s?"text-green-500":"text-muted-foreground"),children:[r.jsx("p",{className:(0,n.cn)(x,"submitted"===s&&o[s].split(" ")[0]),children:d}),r.jsx("p",{children:"Afleveret"})]}),(0,r.jsxs)("button",{onClick:()=>handleClick("pending"),className:(0,n.cn)(p,"pending"===s?"text-yellow-500":"text-muted-foreground"),children:[r.jsx("p",{className:(0,n.cn)(x,"pending"===s&&o[s].split(" ")[0]),children:u}),r.jsx("p",{children:"Venter"})]}),(0,r.jsxs)("button",{onClick:()=>handleClick("missing"),className:(0,n.cn)(p,"missing"===s?"text-red-500":"text-muted-foreground"),children:[r.jsx("p",{className:(0,n.cn)(x,"missing"===s&&o[s].split(" ")[0]),children:m}),r.jsx("p",{children:"Mangler"})]}),r.jsx("div",{className:(0,n.cn)("absolute -bottom-2 h-0.5 w-1/4 rounded-md transition-all duration-300",o[s])})]})}},21079:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>AssignmentsPage});var r=s(17894),n=s(36736);let a=(0,n.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(sidebar)/afleveringer/_components/AssignmentsWrapper.tsx`),{__esModule:l,$$typeof:i}=a;a.default;let o=(0,n.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(sidebar)/afleveringer/_components/AssignmentsWrapper.tsx#AssignmentsWrapper`);async function AssignmentsRenderer({assignmentsPromise:e}){let t=await e;return null===t?r.jsx("p",{className:"text-red-400",children:"An error happened"}):r.jsx(o,{strAssignments:JSON.stringify(t)})}var c=s(42089),d=s(12979);let u=c.forwardRef(({className:e,children:t,...s},n)=>r.jsx(r.Fragment,{children:r.jsx("div",{ref:n,className:(0,d.cn)("relative h-3 w-3 rounded-full bg-zinc-500 text-zinc-500 animate-dot-flashing delay-500",'before:content-[""] before:inline-block before:absolute before:top-0 after:content-[""] after:inline-block after:absolute after:top-0',"before:-left-4 before:h-3 before:w-3 before:rounded-full before:bg-zinc-500 before:text-zinc-500 before:animate-dot-flashing before:delay-0","after:left-4 after:h-3 after:w-3 after:rounded-full after:bg-zinc-500 after:text-zinc-500 after:animate-dot-flashing after:delay-1000",e),...s})}));u.displayName="LoadingDots";let m=(0,n.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(sidebar)/afleveringer/_components/FilterButtons/Buttons.tsx`),{__esModule:p,$$typeof:x}=m;m.default;let g=(0,n.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(sidebar)/afleveringer/_components/FilterButtons/Buttons.tsx#Buttons`);async function FilterButtons({assignmentsPromise:e}){let t=await e;return r.jsx(r.Fragment,{children:r.jsx(g,{strAssignments:JSON.stringify(t)})})}function FilterButtonsSkeleton(){let e="transition-colors flex flex-col gap-y-1 items-center duration-300 text-muted-foreground",t="text-xs h-6 w-6 p-1 rounded-full bg-zinc-500 bg-opacity-5";return r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"relative grid w-full min-w-[256px] max-w-sm animate-pulse grid-cols-4 text-center text-sm",children:[(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Alle"})]}),(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Afleveret"})]}),(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Venter"})]}),(0,r.jsxs)("button",{className:e,children:[r.jsx("p",{className:t,children:"0"}),r.jsx("p",{children:"Mangler"})]}),r.jsx("div",{className:"absolute -bottom-2 h-0.5 w-1/4 translate-x-[200%] rounded-md bg-muted-foreground transition-all duration-300"})]})})}var f=s(69429),h=s(34388);async function AssignmentsPage(){let e=(0,f.t)(),t=h.G.getAssignment.all({...e});return(0,r.jsxs)(r.Fragment,{children:[r.jsx("h1",{className:"pt-6 text-4xl font-medium max-md:pl-4",children:"Afleveringer"}),r.jsx("div",{className:"block pt-6 md:hidden",children:r.jsx(c.Suspense,{fallback:r.jsx(FilterButtonsSkeleton,{}),children:r.jsx(FilterButtons,{assignmentsPromise:t})})}),r.jsx("div",{className:"flex flex-col items-center pt-4 md:pt-0",children:r.jsx(c.Suspense,{fallback:r.jsx(u,{className:"mt-8"}),children:r.jsx(AssignmentsRenderer,{assignmentsPromise:t})})})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[269,775,994,125,826,980,749,40,26,229,356,50,145,445,405,927,354,974,77],()=>__webpack_exec__(61157));module.exports=s})();