(()=>{var e={};e.id=747,e.ids=[747],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},7447:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(11431),a=s(77499),n=s(79436),i=s.n(n),o=s(42644),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["(navbar)",{children:["(no-sidebar)",{children:["skema",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,16598)),"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,34348)),"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35054,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,89113))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,98181)),"/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35054,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,89113))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/page.tsx"],u="/(navbar)/(no-sidebar)/skema/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(navbar)/(no-sidebar)/skema/page",pathname:"/skema",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43876:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,42330,23)),Promise.resolve().then(s.bind(s,62149)),Promise.resolve().then(s.bind(s,36090)),Promise.resolve().then(s.bind(s,4358)),Promise.resolve().then(s.bind(s,73544))},62149:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DaySwitcher:()=>DaySwitcher});var r=s(51516),a=s(78077),n=s(74e3),i=s(50187),o=s(96594),l=s(77848),c=s(4358);function DaySwitcher(){let e=(0,l.useContext)(c.ScheduleContext);function handleClick(t){e.changeDay(t)}return(0,r.jsxs)("div",{className:"flex w-full justify-between 2xl:hidden",children:[r.jsx(a.Z,{html:r.jsx("p",{children:"⌘⇧←"}),children:r.jsx(n.z,{variant:"outline",onClick:()=>handleClick("backwards"),className:"h-12 w-12 px-1 py-1",children:r.jsx(i.Z,{className:"text-white"})})}),r.jsx(a.Z,{html:r.jsx("p",{children:"⌘⇧→"}),children:r.jsx(n.z,{variant:"outline",onClick:()=>handleClick("forwards"),className:"h-12 w-12 px-1 py-1",children:r.jsx(o.Z,{className:"text-white"})})})]})}},36090:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Wrapper:()=>Wrapper});var r=s(51516),a=s(77848),n=s(4358);function Wrapper({children:e}){function getNewTransform(){return 0}return(0,a.useContext)(n.ScheduleContext),r.jsx("div",{className:"flex h-full transition-transform duration-500 sm:duration-300",style:{transform:`translateX(${getNewTransform()}%)`},children:e})}},4358:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ScheduleContext:()=>n,ScheduleProvider:()=>ScheduleProvider,getMaxDay:()=>getMaxDay});var r=s(51516),a=s(77848);let n=(0,a.createContext)({day:0});function getMaxDay(){return 0}function ScheduleProvider({children:e}){let[t,s]=(0,a.useState)(0),i=(0,a.useRef)(t);function changeDay(e){"forwards"===e?s(e=>Math.min(e+1,0)):"backwards"===e&&s(e=>Math.max(e-1,0))}return i.current=t,(0,a.useEffect)(()=>{function handleResize(){i.current,s(0)}return window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}},[]),r.jsx(n.Provider,{value:{day:t,changeDay:changeDay},children:e})}},16598:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>SchedulePage,dynamic:()=>_,revalidate:()=>M});var r=s(17894),a=s(69429),n=s(34388);function generateTimestamps(e){let t=24,s=0;e.forEach(e=>{e.lessons.forEach(e=>{let r=e.time,a=r.startDate.getHours()+r.startDate.getMinutes()/60;a<t&&(t=a);let n=r.endDate.getHours()+r.endDate.getMinutes()/60;n>s&&(s=n)})}),t=Math.floor(t-.001),s=Math.ceil(s+.001);let r=[];for(let e=t;e<=s;e++)r.push(Math.floor(e));return 0===r.length?[7,8,9,10,11,12,13,14,15,16]:r}function Timestamps({timestamps:e}){return r.jsx(r.Fragment,{children:e.map((e,t)=>{let s=e.toString(),a="";if(e<10){let t=e.toString();a=["0",t,":00"].join("")}else a=[s,":00"].join("");return r.jsx("p",{className:"text-sm",style:{height:"var(--height-hour)"},children:a},e)})})}var i=s(3559);function TimestampsLines({timestamps:e}){return r.jsx(r.Fragment,{children:e.map((e,t)=>r.jsx("div",{style:{height:"var(--height-hour)"},children:r.jsx(i.Z,{})},e))})}s(42089);var o=s(476),l=s(12979);let c=(0,o.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:t,...s}){return r.jsx("div",{className:(0,l.cn)(c({variant:t}),e),...s})}var d=s(5639),u=s.n(d);function NoteIcon({className:e}){return(0,r.jsxs)("svg",{className:(0,l.cn)("h-4 w-4",e),viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"}),r.jsx("path",{d:"M3 5.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8zm0 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"})]})}function getNumericLessonTimes(e){let t=e.time,s=t.startDate.getHours()+t.startDate.getMinutes()/60,r=t.endDate.getHours()+t.endDate.getMinutes()/60;return{startTime:s,endTime:r}}var p=s(22008);async function Lesson({lesson:e,timestamps:t,lessonsAddedAtTimestamp:s}){let a=e.time,n=a.startDate.getHours()+a.startDate.getMinutes()/60,i=a.endDate.getHours()+a.endDate.getMinutes()/60,o=n-t[0],c="bg-blue-500",d="bg-blue-400",m="text-blue-300",x="fill-blue-300",h="group-hover:bg-blue-200",v="group-hover:text-white",g="group-hover:fill-white";"changed"===e.status?(c="bg-green-500",d="bg-green-400",m="text-green-300",x="fill-green-300",h="group-hover:bg-green-200",v="group-hover:text-white",g="group-hover:fill-white"):"cancelled"===e.status&&(c="bg-red-500",d="bg-red-400",m="text-red-300",x="fill-red-300",h="group-hover:bg-red-200",v="group-hover:text-white",g="group-hover:fill-white");let f="",b=s.find(e=>n===e.start);s.push({start:n,end:i,totalAdded:1}),b&&(f=`calc(((100% - 16px) / ${e.overlappingLessons+1}) * ${b.totalAdded})`,b.totalAdded+=1);let w=""===e.subjects[0],y=e.hasNote,j=e.hasHomework,k=getNumericLessonTimes(e),D=!1;function getTitleSize(){let t="text-sm @[124px]:text-sm";return D?t="text-sm":e.overlappingLessons>=1&&(t="text-xs @[124px]:text-sm"),t}return k.endTime-k.startTime<.75&&(D=!0),(0,r.jsxs)(u(),{href:`/skema/${e.id}`,className:(0,l.cn)("group absolute ml-1 flex w-full gap-x-1 overflow-hidden rounded-md bg-opacity-50 transition-[transform,_background-color] @container hover:scale-[1.025] hover:bg-opacity-90 sm:gap-x-1.5",c),style:{top:`calc(var(--offset-top-lesson) + var(--height-hour) * ${o})`,height:`calc((${i-n}) * var(--height-hour))`,width:`calc((100% - 16px) / ${e.overlappingLessons+1})`,left:f},children:[r.jsx("div",{className:(0,l.cn)("h-full w-1.5 rounded-l-md transition-colors",d,h)}),r.jsx("div",{className:"w-full overflow-hidden",children:(0,r.jsxs)("div",{className:"w-auto overflow-auto break-words pt-1",children:[(0,r.jsxs)("div",{className:(0,l.cn)("@[124px]:semibold flex flex-wrap items-start gap-x-1.5 font-bold leading-3 transition-colors",m,v,getTitleSize()),children:[e.subjects.join(", "),!w&&(0,r.jsxs)("div",{className:"flex items-center",children:[y&&r.jsx(NoteIcon,{className:(0,l.cn)("h-4 w-4 transition-colors",x,g)}),j&&r.jsx(p.$8n,{className:"h-4 w-4"})]})]}),(0,r.jsxs)("div",{className:(0,l.cn)(w?`@[124px]:semibold flex flex-wrap items-start gap-x-1.5 font-bold leading-3 transition-colors ${getTitleSize()}`:"w-full text-2xs transition-colors @[124px]:text-xs",e.title.length>20&&!D?"text-3xs @[124px]:text-2xs":"text-sm",m,v),children:[e.title,w&&(0,r.jsxs)("div",{className:"flex items-center",children:[y&&r.jsx(NoteIcon,{className:(0,l.cn)("h-4 w-4 transition-colors",x,g)}),j&&r.jsx(p.$8n,{className:"h-4 w-4"})]})]}),!D&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{className:(0,l.cn)("text-2xs transition-colors @[124px]:text-xs",m,v),children:e.classrooms.join(", ")}),r.jsx("p",{className:(0,l.cn)(" transition-colors",m,v,e.classes.join(", ").length>40?"text-2xs":"text-2xs @[124px]:text-xs"),children:e.classes.join(", ")})]})]})})]},Math.random())}async function Weekday({week:e,timestamps:t,day:s}){let a=[];return r.jsx("div",{className:"flex min-w-full sm:min-w-1/2 lg:min-w-1/3 xl:min-w-1/4 2xl:min-w-1/5",children:(0,r.jsxs)("div",{className:"relative w-full",children:[r.jsx("div",{className:"absolute grid w-full place-items-center  px-2",children:r.jsx(Badge,{className:"px-6 py-1",children:s})}),r.jsx("div",{className:"absolute z-50 flex h-full w-full justify-between",children:e.lessons.map((e,s)=>r.jsx(Lesson,{lesson:e,timestamps:t,lessonsAddedAtTimestamp:a},e.id))})]})})}var m=s(14635),x=s(28994),h=s(36736);let v=(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/_components/DaySwitcher.tsx`),{__esModule:g,$$typeof:f}=v;v.default;let b=(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/_components/DaySwitcher.tsx#DaySwitcher`),w=(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/_components/Wrapper.tsx`),{__esModule:y,$$typeof:j}=w;w.default;let k=(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/_components/Wrapper.tsx#Wrapper`),D=(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/schedule-context.tsx`),{__esModule:N,$$typeof:P}=D;D.default,(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/schedule-context.tsx#ScheduleContext`),(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/schedule-context.tsx#getMaxDay`);let S=(0,h.createProxy)(String.raw`/Users/tobiastv/Desktop/Development/Reactprojects/lectio-viskum/src/app/(navbar)/(no-sidebar)/skema/schedule-context.tsx#ScheduleProvider`),_="force-dynamic",M=0;async function SchedulePage({searchParams:e}){let t=m.z.object({week:m.z.string().min(1),year:m.z.string().length(4)}),s=(0,l.D)();try{let r=t.parse(e);if(s=r,isNaN(Number(r.week))||isNaN(Number(r.year))){let e=(0,l.D)();(0,x.redirect)(`/skema?week=${e.week}&year=${e.year}`)}}catch(e){(0,x.redirect)(`/skema?week=${s.week}&year=${s.year}`)}let i=(0,a.t)();new Date().getTime();let o=await n.G.getSchedule.byCredentials({...i,...s});null===o&&(0,x.redirect)("/log-ind");let c=generateTimestamps(o),d={0:"Mandag",1:"Tirsdag",2:"Onsdag",3:"Torsdag",4:"Fredag",5:"L\xf8rdag",6:"S\xf8ndag"};return n.G.getSchedule.byCredentials({...i,week:(Number(s.week)-1).toString(),year:s.year}),n.G.getSchedule.byCredentials({...i,week:(Number(s.week)+1).toString(),year:s.year}),r.jsx(S,{children:(0,r.jsxs)("div",{id:"schedule-main",className:"w-full",children:[r.jsx("h1",{children:"Skema"}),r.jsx(u(),{href:{query:{week:Number(s.week)-1,year:s.year}},children:"< Back"}),r.jsx(u(),{href:{query:{week:Number(s.week)+1,year:s.year}},children:"Forward >"}),r.jsx(b,{}),r.jsx("div",{className:"relative flex w-full justify-center rounded-md",children:0===o.length?(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{children:"Der er ingen aktiviteter i denne uge!"}),r.jsx("p",{children:"Nyd ugen!"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"flex h-full w-14 flex-col",children:r.jsx("div",{className:"grid w-16 pl-1 text-muted-foreground opacity-70",style:{paddingTop:"var(--offset-top-text)"},children:r.jsx(Timestamps,{timestamps:c})})}),(0,r.jsxs)("div",{className:"relative w-full max-w-[1600px] overflow-x-hidden overflow-y-hidden",children:[r.jsx("div",{className:"pointer-events-none absolute h-full w-full bg-transparent",style:{paddingTop:"var(--offset-top-lesson)",width:"calc(100% - 12px)"},children:r.jsx(TimestampsLines,{timestamps:c})}),r.jsx(k,{children:o.map((e,t)=>r.jsx(Weekday,{week:e,timestamps:c,day:d[t]},t))})]})]})})]})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[269,775,994,125,826,980,749,40,356,145,476,186,445,405,927,0,77],()=>__webpack_exec__(7447));module.exports=s})();