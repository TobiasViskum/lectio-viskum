(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{6253:function(e,t,s){Promise.resolve().then(s.bind(s,2589)),Promise.resolve().then(s.bind(s,4717))},2589:function(e,t,s){"use strict";s.r(t),s.d(t,{AssignmentsWrapper:function(){return AssignmentsWrapper}});var n=s(1911),r=s(4032),l=s(1034),i=s(2153),a=s(4711);let o=(0,a.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=s(1706),c=s.n(d);function getDate(e){let t=e.split("-"),s=t[0].split("/"),n=Number(s[0]),r=Number(s[1])-1,l=t[1].split(" "),i=Number(l[0]),a=l[1].split(":"),o=Number(a[0]),d=Number(a[1]);return new Date(i,r,n,o,d)}function getColors(e){let t=getDate(e.dueTo),s=t.getTime()-new Date().getTime(),n=s/864e5,r="bg-gray-400",l="text-muted-foreground";return"Afleveret"===e.status?r="bg-green-400":"Mangler"===e.status?r="bg-red-400":s<0?r="bg-red-400":n<=14&&n>11?(r="bg-yellow-400",l="text-yellow-400"):n<=11&&n>7?(r="bg-yellow-500",l="text-yellow-500"):n<=7&&n>5?(r="bg-yellow-600",l="text-yellow-600"):n<=5&&n>3?(r="bg-orange-500",l="text-orange-500"):n<=3&&n>2?(r="bg-orange-600",l="text-orange-600"):n<=2&&n>1?(r="bg-orange-700",l="text-orange-700"):n<=1?(r="bg-orange-800",l="text-orange-800"):"Venter"===e.status&&(r="bg-gray-400",l="text-muted-foreground"),{sideColor:r,dateColor:l}}function getFormattedDate(e){let t=getDate(e.dueTo),s=t.getTime()-new Date().getTime(),n=s/864e5,r=Math.floor(s%864e5/36e5)-1,l=Math.floor(s%36e5/6e4),i=Math.floor(s%6e4/1e3),a=1!==n?"dage":"dag",o=1!==r?"timer":"time",d=1!==l?"minutter":"minut",c=1!==i?"sekunder":"sekund";return n>14||n<0?new Intl.DateTimeFormat("da-dk",{dateStyle:"long",timeStyle:"short"}).format(t):n>1?0===r?[Math.floor(n),a].join(" "):[Math.floor(n),a,"og",r,o].join(" "):r>1?0===l?[r,o].join(" "):[r,o,"og",l,d].join(" "):l>1?0===i?[l,d].join(" "):[l,d,"og",i,c].join(" "):[i,c].join(" ")}var u=s(8014);function TooltipHoverContent(e){let{assignment:t}=e,s=isNaN(Number(t.studentTime.split(",")[0]))?0:Number(t.studentTime.split(",")[0]);return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("p",{className:"w-16",children:"Frav\xe6r:"}),(0,n.jsx)("p",{children:t.absence})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("p",{className:"w-16",children:"Afventer:"}),(0,n.jsx)("p",{children:t.awaiter})]}),(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("p",{className:"w-16",children:"Elevtimer:"}),(0,n.jsx)("p",{children:s})]})]})}function Assignment(e){let{assignment:t,addWeek:s}=e,{sideColor:r,dateColor:a}=getColors(t),d=getFormattedDate(t),m="w-[calc(100%-24px)] absolute right-0 md:right-4 md:w-[calc(100%-32px)]";return t.href.split("elevid=")[1].split("&")[0],(0,n.jsx)(u.Z,{html:(0,n.jsx)(TooltipHoverContent,{assignment:t}),children:(0,n.jsxs)(c(),{href:{pathname:"/afleveringer/".concat(t.id),query:{title:t.title,class:t.class,subject:t.subject,dueTo:t.dueTo}},className:"group relative flex h-[88px] w-full items-center gap-x-4 whitespace-nowrap rounded-lg bg-background py-1 pl-1 transition-colors hover:bg-muted focus:bg-muted focus:outline-0",children:[s&&(0,n.jsx)(l.Separator,{className:(0,i.cn)(m,"top-0")}),(0,n.jsx)("div",{className:(0,i.cn)("h-2/3 w-2 rounded-md",r)}),(0,n.jsxs)("div",{className:"overflow-hidden",children:[(0,n.jsxs)("p",{className:"text-sm text-muted-foreground opacity-50",children:[[t.subject,", "].join(""),t.class]}),(0,n.jsx)("p",{className:(0,i.cn)(t.title.length>30?"text-sm":t.title.length>40?"text-xs":"text-base","overflow-hidden text-ellipsis whitespace-nowrap py-0.5 font-medium"),children:t.title}),(0,n.jsx)("p",{className:(0,i.cn)("text-sm opacity-75",a),children:d})]}),(0,n.jsx)(o,{className:"ml-auto mr-8 hidden text-muted-foreground opacity-75 transition-transform group-hover:translate-x-2 group-hover:scale-110 group-focus:translate-x-2 group-focus:scale-110 md:block"}),(0,n.jsx)(l.Separator,{className:(0,i.cn)(m,"bottom-0")})]},t.title)})}var m=s(9617);function AssignmentsWrapper(e){let{strAssignments:t}=e,s=JSON.parse(t),[l,i]=(0,r.useState)("pending"),[a,o]=(0,r.useState)("");(0,r.useEffect)(()=>{m.B.listen("assignmentsFilter",e=>{i(e.detail.filter),o(e.detail.search)})},[]);let d="-1",c=!1;return"submitted"===l?s=s.filter(e=>"Afleveret"===e.status):"pending"===l?s=s.filter(e=>"Venter"===e.status):"missing"===l&&(s=s.filter(e=>"Mangler"===e.status)),0===s.length&&(c=!0),""!==a&&(s=s.filter(e=>{let t=a.toLowerCase(),s=e.title.toLowerCase().includes(t),n=e.subject.toLowerCase().includes(t),r=e.class.toLowerCase().includes(t),l=[e.subject,e.class].join(", ").toLowerCase().includes(t);return s||n||r||l})),(0,n.jsxs)(n.Fragment,{children:[0===s.length&&(0,n.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-y-1 pt-16 lg:items-start lg:gap-y-2 lg:pt-8",children:[(0,n.jsx)("p",{className:"text-lg font-semibold text-muted-foreground",children:"Ingen Opgaver"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground opacity-50",children:""===a||c?"Der er ingen opgaver at vise. Godt klaret!":"Der var intet resultat"})]}),s.map((e,t)=>{let s=d!==e.week;return s&&(d=e.week),(0,n.jsxs)(r.Fragment,{children:[s&&(0,n.jsxs)("p",{className:"w-full pb-2 pt-4 text-xl font-bold",children:["Uge ",e.week]}),(0,n.jsx)(Assignment,{addWeek:s,assignment:e})]},e.id)})]})}},4717:function(e,t,s){"use strict";s.r(t),s.d(t,{Buttons:function(){return Buttons}});var n=s(1911),r=s(2153),l=s(9617),i=s(4032);function FilterButtonsSkeleton(){let e="transition-colors flex flex-col gap-y-1 items-center duration-300 text-muted-foreground",t="text-xs h-6 w-6 p-1 rounded-full bg-zinc-500 bg-opacity-5";return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"relative grid w-full min-w-[256px] max-w-sm animate-pulse grid-cols-4 text-center text-sm",children:[(0,n.jsxs)("button",{className:e,children:[(0,n.jsx)("p",{className:t,children:"0"}),(0,n.jsx)("p",{children:"Alle"})]}),(0,n.jsxs)("button",{className:e,children:[(0,n.jsx)("p",{className:t,children:"0"}),(0,n.jsx)("p",{children:"Afleveret"})]}),(0,n.jsxs)("button",{className:e,children:[(0,n.jsx)("p",{className:t,children:"0"}),(0,n.jsx)("p",{children:"Venter"})]}),(0,n.jsxs)("button",{className:e,children:[(0,n.jsx)("p",{className:t,children:"0"}),(0,n.jsx)("p",{children:"Mangler"})]}),(0,n.jsx)("div",{className:"absolute -bottom-2 h-0.5 w-1/4 translate-x-[200%] rounded-md bg-muted-foreground transition-all duration-300"})]})})}function Buttons(e){let{strAssignments:t}=e,s=JSON.parse(t);(0,i.useEffect)(()=>{l.B.listen("assignmentsFilter",e=>{o(e.detail.filter)})},[]);let[a,o]=(0,i.useState)("pending");if(null===s)return(0,n.jsx)(FilterButtonsSkeleton,{});let d={all:"bg-blue-500 translate-x-0",submitted:"bg-green-500 translate-x-full",pending:"bg-yellow-500 translate-x-[200%]",missing:"bg-red-500 translate-x-[300%]"},c=s.length,u=s.filter(e=>"Afleveret"===e.status).length,m=s.filter(e=>"Venter"===e.status).length,g=s.filter(e=>"Mangler"===e.status).length,x="transition-colors flex flex-col gap-y-1 items-center duration-300",f="text-xs h-6 w-6 p-1 rounded-full bg-zinc-500 bg-opacity-5";function handleClick(e){l.B.dispatch("assignmentsFilter",{filter:e,search:""})}return(0,n.jsxs)("div",{className:"relative grid w-full min-w-[256px] max-w-sm grid-cols-4 text-center text-sm",children:[(0,n.jsxs)("button",{onClick:()=>handleClick("all"),className:(0,r.cn)(x,"all"===a?"text-blue-500":"text-muted-foreground"),children:[(0,n.jsx)("p",{className:(0,r.cn)(f,"all"===a&&d[a].split(" ")[0]),children:c}),(0,n.jsx)("p",{children:"Alle"})]}),(0,n.jsxs)("button",{onClick:()=>handleClick("submitted"),className:(0,r.cn)(x,"submitted"===a?"text-green-500":"text-muted-foreground"),children:[(0,n.jsx)("p",{className:(0,r.cn)(f,"submitted"===a&&d[a].split(" ")[0]),children:u}),(0,n.jsx)("p",{children:"Afleveret"})]}),(0,n.jsxs)("button",{onClick:()=>handleClick("pending"),className:(0,r.cn)(x,"pending"===a?"text-yellow-500":"text-muted-foreground"),children:[(0,n.jsx)("p",{className:(0,r.cn)(f,"pending"===a&&d[a].split(" ")[0]),children:m}),(0,n.jsx)("p",{children:"Venter"})]}),(0,n.jsxs)("button",{onClick:()=>handleClick("missing"),className:(0,r.cn)(x,"missing"===a?"text-red-500":"text-muted-foreground"),children:[(0,n.jsx)("p",{className:(0,r.cn)(f,"missing"===a&&d[a].split(" ")[0]),children:g}),(0,n.jsx)("p",{children:"Mangler"})]}),(0,n.jsx)("div",{className:(0,r.cn)("absolute -bottom-2 h-0.5 w-1/4 rounded-md transition-all duration-300",d[a])})]})}},8014:function(e,t,s){"use strict";s.d(t,{Z:function(){return TooltipHover}});var n=s(1911),r=s(4032),l=s(3871),i=s(2153);let a=l.zt,o=l.fC,d=l.xz,c=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...a}=e;return(0,n.jsx)(l.VY,{ref:t,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...a})});function TooltipHover(e){let{children:t,html:s}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a,{children:(0,n.jsxs)(o,{children:[(0,n.jsx)(d,{asChild:!0,children:t}),(0,n.jsx)(c,{className:"border border-accent bg-background text-muted-foreground",children:s})]})})})}c.displayName=l.VY.displayName},1034:function(e,t,s){"use strict";s.r(t),s.d(t,{Separator:function(){return a}});var n=s(1911),r=s(4032),l=s(7700),i=s(2153);let a=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:a=!0,...o}=e;return(0,n.jsx)(l.f,{ref:t,decorative:a,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...o})});a.displayName=l.f.displayName},2153:function(e,t,s){"use strict";s.d(t,{cn:function(){return cn}});var n=s(3501),r=s(2701);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m)((0,n.W)(t))}},9617:function(e,t,s){"use strict";function listen(e,t,s){document.addEventListener(e,e=>t(e),s)}function dispatch(e,t){let s=new CustomEvent(e,{detail:t});document.dispatchEvent(s)}s.d(t,{B:function(){return n}});let n={listen:listen,dispatch:dispatch}},1706:function(e,t,s){e.exports=s(6684)}},function(e){e.O(0,[592,684,857,969,843,509,744],function(){return e(e.s=6253)}),_N_E=e.O()}]);