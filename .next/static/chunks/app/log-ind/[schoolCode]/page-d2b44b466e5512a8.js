(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{4711:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var n=r(4032),o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:i,...c},u)=>(0,n.createElement)("svg",{ref:u,...o,width:s,height:s,stroke:r,strokeWidth:l?24*Number(a)/Number(s):a,className:`lucide lucide-${toKebabCase(e)}`,...c},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...(Array.isArray(i)?i:[i])||[]]));return r.displayName=`${e}`,r}},6615:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(4711);let o=(0,n.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1823:function(e,t,r){Promise.resolve().then(r.bind(r,2457)),Promise.resolve().then(r.bind(r,1845)),Promise.resolve().then(r.bind(r,9820))},2457:function(e,t,r){"use strict";r.r(t),r.d(t,{LoginForm:function(){return LoginForm}});var n=r(1911),o=r(8437),s=r(8190),a=r(4032);r(9124),r(2775);var l=(0,r(8630).$)("051f70d613406ae31624f489f6273673f4a7a051"),i=r(9357),c=r(2497),u=r(2083),d=r(4711);let f=(0,d.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,d.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);function LoginForm(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),[r,d]=(0,a.useState)(!1),[h,b]=(0,a.useState)(!1),p=(0,a.useRef)(null),g=(0,a.useRef)(null),v=(0,a.useRef)(null);async function handleSubmit(){d(!0),await l({username:"",password:"",schoolCode:""}),setTimeout(async()=>{if(p.current&&g.current){let r=p.current.value,n=g.current.value;if(""===r){c.toast.error("Indtast dit brugernavn"),d(!1);return}if(""===n){c.toast.error("Indtast din adgangskode"),d(!1);return}let o=await l({username:r,password:n,schoolCode:e.schoolCode});null===o?c.toast.error("Der skete en fejl"):o.isAuthenticated?((0,u.B)({username:r,password:n,schoolCode:e.schoolCode,lectioCookies:o.lectioCookies,userId:o.studentId}),t.refresh(),c.toast.success("Loggede dig ind!"),setTimeout(()=>{t.push("/forside")},500)):c.toast.error("Elev findes ikke")}else c.toast.error("En uventet fejl skete");d(!1)},500)}return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex w-full flex-col gap-y-6",children:[(0,n.jsx)("div",{className:"w-full border-b",children:(0,n.jsx)(s.I,{ref:p,spellCheck:!1,className:"rounded-none border-0 placeholder:opacity-50 focus-visible:ring-0",placeholder:"Brugernavn",name:"username",onKeyDown:e=>{"Enter"===e.key&&g.current&&g.current.focus()}})}),(0,n.jsxs)("div",{className:"flex w-full border-b",children:[(0,n.jsx)(s.I,{ref:g,spellCheck:!1,className:"rounded-none border-0 placeholder:opacity-50 focus-visible:ring-0",placeholder:"Adgangskode",type:h?"text":"password",name:"password",onKeyDown:e=>{"Enter"===e.key&&v.current&&v.current.click()}}),(0,n.jsx)("button",{className:"top-0 grid h-9 w-9 place-items-center p-1.5",onClick:()=>{b(e=>!e)},children:h?(0,n.jsx)(f,{className:"h-full w-full",onClick:()=>{b(!1)}}):(0,n.jsx)(m,{className:"h-full w-full",onClick:()=>{b(!0)}})})]}),(0,n.jsx)(o.z,{loading:r,disabled:r,className:"mt-2 gap-x-2",ref:v,onClick:handleSubmit,children:r?"Logger dig ind...":"Log ind"})]})})}},1845:function(e,t,r){"use strict";r.r(t),r.d(t,{Title:function(){return Title}});var n=r(1911),o=r(4032),s=r(2153);let a=o.forwardRef((e,t)=>{let{className:r,children:o,...a}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{ref:t,className:(0,s.cn)("relative h-3 w-3 rounded-full bg-zinc-500 text-zinc-500 animate-dot-flashing delay-500",'before:content-[""] before:inline-block before:absolute before:top-0 after:content-[""] after:inline-block after:absolute after:top-0',"before:-left-4 before:h-3 before:w-3 before:rounded-full before:bg-zinc-500 before:text-zinc-500 before:animate-dot-flashing before:delay-0","after:left-4 after:h-3 after:w-3 after:rounded-full after:bg-zinc-500 after:text-zinc-500 after:animate-dot-flashing after:delay-1000",r),...a})})});a.displayName="LoadingDots";var l=r(9357);function TitleSkeleton(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex h-9 items-center text-4xl sm:h-10",children:(0,n.jsx)(a,{})})})}function Title(e){let{schoolPromise:t,name:r}=e,[s,a]=(0,o.useState)(r||null);return(0,l.useRouter)(),(0,n.jsx)(n.Fragment,{children:null===s?(0,n.jsx)(TitleSkeleton,{}):(0,n.jsx)("h1",{className:"sm:text-4xl text-3xl leading-snug font-semibold flex flex-col [text-wrap:balance] text-center",children:s})})}},8437:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var n=r(1911),o=r(4032),s=r(9613),a=r(8786),l=r(2153),i=r(6615);let c=(0,a.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,t)=>{let{className:r,variant:o,size:a,asChild:u=!1,loading:d=!1,children:f,...m}=e,h=u?s.g7:"button";return(0,n.jsxs)(h,{className:(0,l.cn)(c({variant:o,size:a,className:r})),ref:t,...m,children:[f," ",d?(0,n.jsx)(i.Z,{className:"h-4 w-4 animate-spin"}):null]})});u.displayName="Button"},8190:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});var n=r(1911),o=r(4032),s=r(2153);let a=o.forwardRef((e,t)=>{let{className:r,type:o,...a}=e;return(0,n.jsx)("input",{type:o,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});a.displayName="Input"},9820:function(e,t,r){"use strict";r.r(t),r.d(t,{Label:function(){return c}});var n=r(1911),o=r(4032),s=r(387),a=r(8786),l=r(2153);let i=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)(s.f,{ref:t,className:(0,l.cn)(i(),r),...o})});c.displayName=s.f.displayName},2083:function(e,t,r){"use strict";function setAuthCookies(e){let{username:t,password:r,schoolCode:n,lectioCookies:o,userId:s}=e,a=new Date;a.setFullYear(a.getFullYear()+1),document.cookie="username=".concat(t,"; expires=")+a.toUTCString()+"; path=/",document.cookie="password=".concat(r,"; expires=")+a.toUTCString()+"; path=/",document.cookie="schoolCode=".concat(n,"; expires=")+a.toUTCString()+"; path=/",document.cookie="lectioCookies=".concat(encodeURIComponent(o),"; expires=")+a.toUTCString()+"; path=/",document.cookie="userId=".concat(s,"; expires=")+a.toUTCString()+"; path=/"}r.d(t,{B:function(){return setAuthCookies}})},2153:function(e,t,r){"use strict";r.d(t,{cn:function(){return cn}});var n=r(3501),o=r(2701);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m)((0,n.W)(t))}},8630:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return createServerReference}});let n=r(9124);function createServerReference(e){let{createServerReference:t}=r(2538);return t(e,n.callServer)}},2775:function(e,t){"use strict";Symbol.for("react.server.reference")},9357:function(e,t,r){e.exports=r(6566)},387:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var n=r(1090),o=r(4032),s=r(1953);let a=(0,o.forwardRef)((e,t)=>(0,o.createElement)(s.WV.label,(0,n.Z)({},e,{ref:t,onMouseDown:t=>{var r;null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),l=a},8786:function(e,t,r){"use strict";r.d(t,{j:function(){return cva}});var n=r(3501);let falsyToString=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,o=n.W,cva=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let o=falsyToString(t)||falsyToString(n);return s[e][o]}),i=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),c=null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...o}=t;return Object.entries(o).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...i}[t]):({...a,...i})[t]===r})?[...e,r,n]:e},[]);return o(e,l,c,null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[592,497,843,509,744],function(){return e(e.s=1823)}),_N_E=e.O()}]);